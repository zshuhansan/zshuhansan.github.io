<div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-10-01T12:00:29.000Z" title="2021/10/1 下午8:00:29">2021-10-01</time>发表</span><span class="level-item"><time dateTime="2021-10-12T12:48:57.935Z" title="2021/10/12 下午8:48:57">2021-10-12</time>更新</span><span class="level-item">7 分钟读完 (大约1056个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">使用hexo创建博客并部署到GitPages/树莓派上(坑)</h1><div class="content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>搭建这个博客着实费了些时间和精力，踩了不少坑，这篇博文用来记录我的搭建过程，以期记录，也让读者能够少走弯路，避免网上一堆灌水垃圾的误导…<br>项目最后的实现效果也不错，我在两台Win PC上都可以编辑我的博客并即时更新到我的仓库，且外网能正常访问我的博客</p>
<span id="more"></span>
<h1 id="基本的技术路线"><a href="#基本的技术路线" class="headerlink" title="基本的技术路线"></a>基本的技术路线</h1><p>网站框架: Hexo<br>部署仓库: GitPages和我自己的树莓派<br>服务器部署: Nginx<br>内网穿透: 目前是花生壳</p>
<h1 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h1><h2 id="Hexo在Win-PC上的安装和基础配置"><a href="#Hexo在Win-PC上的安装和基础配置" class="headerlink" title="Hexo在Win PC上的安装和基础配置"></a>Hexo在Win PC上的安装和基础配置</h2><h3 id="安装依赖项和Hexo本体"><a href="#安装依赖项和Hexo本体" class="headerlink" title="安装依赖项和Hexo本体"></a>安装依赖项和Hexo本体</h3><ul>
<li>Git<br>项目依赖于Git做部署，需要提前下载好。<br>下载地址: <a target="_blank" rel="noopener" href="https://gitforwindows.org/">https://gitforwindows.org</a><br>安装就直点确定就好<br>检查Git是否安装完成:命令行输入<br><code>git --version</code><br>输出和图差不多就行<br><img src="/2021/10/01/%E4%BD%BF%E7%94%A8hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0Gitpages-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A/git%E5%AE%89%E8%A3%85.png"></li>
<li>Node.Js<br>Node.Js是hexo的依赖项，也需要提前下载并安装<br>下载地址: <a target="_blank" rel="noopener" href="https://node.js.org/en/download/">https://node.js.org/en/download/</a><br>检查类似Git,输入<br><code>node -v</code><br><img src="/2021/10/01/%E4%BD%BF%E7%94%A8hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0Gitpages-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A/node%E5%AE%89%E8%A3%85.png"></li>
<li>Hexo<br>nodejs还给了我们npm这么个包管理工具，我们可以直接用npm安装hexo，打开命令行，输入<br><code>npm install -g hexo-cli</code><br>即可安装，输入<br><code>hexo -v</code><br>检查版本确认是否安装成功</li>
</ul>
<h3 id="初始化和简单配置"><a href="#初始化和简单配置" class="headerlink" title="初始化和简单配置"></a>初始化和简单配置</h3><p>仍然是打开命令行，我们来初始化我们的本地博客。<br>输入<code>d:</code>转到d盘(其他哪个盘都行)，然后输入<br><code>hexo init 放博客的文件夹名字</code><br>等待初始化完成即可。<br>完成后文件夹应该长这样<br><img src="/2021/10/01/%E4%BD%BF%E7%94%A8hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0Gitpages-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A/%E6%96%87%E4%BB%B6%E5%A4%B9.png"><br>然后<code>cd 文件夹名字</code><br>先后输入<br><code>hexo clean</code><br><code>hexo s</code><br>你就可以在 <a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a> 看到一个最初始的博客界面了，它长这个样子<br><img src="/2021/10/01/%E4%BD%BF%E7%94%A8hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0Gitpages-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A/%E5%88%9D%E5%A7%8B.png"></p>
<h3 id="写一篇博文"><a href="#写一篇博文" class="headerlink" title="写一篇博文"></a>写一篇博文</h3><p>还是命令行界面的博客文件夹目录下，我们可以输入<br><code>hexo new 博文的名字</code><br>来创建一篇博文。<br>此时d:/博客文件夹/source/_posts/中会出现一个<code>博文名字.md</code>的文件，支持Markdown语法，我们用顺手的编辑器对博文进行编辑即可。<br>!!注意:插图时应在_post文件夹里新建一个和博文同名的文件夹，将插图放入此文件夹中，博文使用该图时，引用格式应该为<br><code>![](图片名字.png(也可能是jpg什么的，看你那张图片是什么格式))</code></p>
<h2 id="将博客部署到GitPages上"><a href="#将博客部署到GitPages上" class="headerlink" title="将博客部署到GitPages上"></a>将博客部署到GitPages上</h2><h3 id="Github仓库建立"><a href="#Github仓库建立" class="headerlink" title="Github仓库建立"></a>Github仓库建立</h3><p>在Github上建立一个仓库，仓库的名字是<br><code>你的github用户名.github.io</code></p>
<h3 id="修改部署设置"><a href="#修改部署设置" class="headerlink" title="修改部署设置"></a>修改部署设置</h3><p>这时候我们需要用到刚才的git了，我们需要生成一个ssh密钥，让github仓库能认出我们这台电脑。<br>首先我们在命令行中执行<br><code>ssh-keygen -t rsa -C </code><br>然后我们打开<code>C盘/用户/用户名/.ssh</code>，用记事本打开<code>id_rsa.puh</code>这个文件，并全选复制其内容。<br>然后我们打开github，点击自己的头像后选择setting，在ssh and gpg keys中选择new ssh key，标题随意，粘贴刚才复制的内容即可。<br>验证:在命令行中执行<code>ssh -T git@github.com</code>,输出末尾句是<code>Hi github用户名,You&#39;ve successfully .....</code>即可。<br>然后我们来设置hexo设置，在我们之前创建的博客文件夹中，找到\source_posts_config.yml，打开该文件，找到deploy项,改写成如下形式  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">- type: git</span><br><span class="line">  repo: https://github.com/你的github名字/你的github名字.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<h2 id="将博客部署到树莓派上"><a href="#将博客部署到树莓派上" class="headerlink" title="将博客部署到树莓派上"></a>将博客部署到树莓派上</h2><p>仍然是命令行，我们cd到创建的博客文件夹，执行<code>hexo d</code>，等待完成即可，等待1min，我们就可以在”你的github名字.github.io”这个网站看到你的博客了。</p>
<h3 id="树莓派上Nginx的配置"><a href="#树莓派上Nginx的配置" class="headerlink" title="树莓派上Nginx的配置"></a>树莓派上Nginx的配置</h3><h3 id="用花生壳进行内网穿透"><a href="#用花生壳进行内网穿透" class="headerlink" title="用花生壳进行内网穿透"></a>用花生壳进行内网穿透</h3><p>花生壳是我目前用的内网穿透方案</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>使用hexo创建博客并部署到GitPages/树莓派上(坑)</p><p><a href="http://example.com/2021/10/01/使用hexo创建博客并部署到Gitpages-树莓派上/">http://example.com/2021/10/01/使用hexo创建博客并部署到Gitpages-树莓派上/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>zshuhansan</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-10-01</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-10-12</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/hexo/">hexo</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/08/31/%E7%94%A8py%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E7%9A%84%E5%AE%9D%E5%8F%AF%E6%A2%A6%E4%BD%9C%E6%88%98%E7%B3%BB%E7%BB%9F/"><span class="level-item">用py做一个简易的宝可梦作战系统(坑)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!-->